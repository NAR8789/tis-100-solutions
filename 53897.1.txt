@0
# FIND THE GAP
MOV RIGHT ACC
SUB RIGHT
JLZ L
G: MOV 0 RIGHT
MOV ACC RIGHT
MOV 0 DOWN # R BIG

MOV RIGHT ACC
SUB RIGHT
JGZ G
L: MOV ACC RIGHT
NEG
MOV ACC RIGHT
MOV 1 DOWN # L BIG

@1
MOV UP LEFT
MOV UP ACC
MOV ACC LEFT
ADD LEFT
MOV ACC RIGHT #MIN
MOV LEFT ACC #GAP
MOV ACC RIGHT #GAP

# GAP LOOP CONTROL
JEZ L2E
L2: MOV 1 DOWN
SUB 1
JNZ L2
L2E: MOV 10 DOWN

@2
0: MOV LEFT ACC
L1: MOV -1 RIGHT
MOV -2 DOWN
SUB 1
JGZ L1
MOV 1 RIGHT
MOV 6 DOWN

# GAP LOOP CONTROL
MOV LEFT ACC
JEZ L2E
L2: MOV -2 DOWN
SUB 1
JNZ L2
L2E: MOV -10 DOWN

@3
# SUPPLY X
JMP 0
MOV ACC DOWN
0: JRO LEFT
ADD 2

@4
# LEFT OR RIGHT
MOV UP ACC
MOV ACC RIGHT

# FIXUP
SUB 2
NEG
MOV ACC RIGHT

@5
# SUPPLY CORRECT X
# FOR MAX SIDE
ADD LEFT # X INCR

# REPEAT GAP TIMES
L: JRO UP
MOV ACC DOWN   #X
MOV RIGHT DOWN #Y
MOV 3 DOWN
MOV -1 DOWN
JMP L

ADD LEFT # FIX X

@6
# SUPPLY Y
MOV 17 ACC
JMP L1
MOV ACC RIGHT
SUB 1
L1: JRO UP

# SUPPLY GAP-Y
# REPEAT GAP TIMES
MOV ACC LEFT
SUB 1
L2: JRO UP

@7
MOV UP DOWN     #X
MOV LEFT DOWN   #Y
MOV 3 DOWN
MOV 3 DOWN
MOV -1 DOWN

@8
MOV UP RIGHT

@9
MOV ANY DOWN

@10
MOV UP LEFT
