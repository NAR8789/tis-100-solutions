@0


@1
# FEED MAX DOWN
MOV UP RIGHT
MOV UP ACC
MOV ACC RIGHT
ADD RIGHT
MOV ACC DOWN #MAX
MOV ACC RIGHT

@2
# FIND THE GAP
MOV LEFT ACC
SUB LEFT
JLZ L
G: MOV ACC LEFT
NEG
ADD LEFT
MOV ACC RIGHT

MOV LEFT ACC
SUB LEFT
JGZ G
L: MOV 0 LEFT
ADD LEFT
MOV ACC RIGHT

@3
MOV LEFT ACC
MOV ACC DOWN
SUB LEFT
MOV ACC DOWN

@4


@5
ADD UP
0: MOV -1 DOWN
MOV -2 RIGHT
SUB 1
JGZ 0
MOV 1 DOWN
MOV -5 RIGHT

@6
# SUPPLY Y
MOV 17 ACC
JMP 0
MOV ACC DOWN
SUB 1
0: JRO LEFT

@7
# COLORS LOOP CTRL
# MIN-LOOP
MOV UP ACC    #MIN


# COLOR DECISION
MOV UP DOWN
# GAP-LOOP
MOV UP ACC    #MAX

@8
# SUPPLY X
JMP 0
MOV ACC RIGHT
0: JRO UP
ADD 2

@9
MOV LEFT DOWN  #X
MOV UP DOWN    #Y
MOV RIGHT DOWN
MOV RIGHT DOWN
MOV -1 DOWN

@10
# SUPPLY COLORS
L1: JRO UP
MOV 3 LEFT
MOV 3 LEFT
JMP L1
L2: JRO UP
MOV 0 LEFT
MOV 3 LEFT
JMP L2
L3: JRO UP
MOV 3 LEFT
MOV 0 LEFT
JMP L3
